---
interface NavLink {
  label: string;
  href: string;
}

const navLinks: NavLink[] = [
  { label: 'Início', href: '#' },
  { label: 'Serviços', href: '#servicos' },
  { label: 'Processo', href: '#processo' },
  { label: 'Preços', href: '#precos' },
];

const whatsappLink = 'https://wa.me/5571984843571?text=Olá!%20Vim%20pelo%20site%20e%20gostaria%20de%20um%20orçamento.';
---

<nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm">
  <div class="container-custom">
    <div class="flex items-center justify-between h-16">
      <!-- Logo/Brand -->
      <a href="#" class="flex items-center gap-2 font-bold text-lg text-deep-black hover:text-gray-700 transition-colors">
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="24" 
          height="24" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
          class="text-vibrant-yellow"
          aria-hidden="true"
        >
          <path d="M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"/>
        </svg>
        <span class="hidden sm:inline">Asa Branca Informática</span>
      </a>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-1">
        {navLinks.map((link) => (
          <a 
            href={link.href}
            class="px-4 py-2 text-sm font-medium text-gray-700 hover:text-deep-black hover:bg-gray-100 rounded-lg transition-colors"
          >
            {link.label}
          </a>
        ))}
      </div>
      
      <!-- CTA Button -->
      <!-- Umami: whatsapp_click; data-umami-props fallback 'unknown' será atualizado em runtime -->
      <a
        href={whatsappLink}
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-2 bg-vibrant-yellow text-deep-black font-semibold px-4 py-2 rounded-lg hover:bg-accent-yellow transition-all duration-300 shadow-sm hover:shadow-md text-sm"
        data-umami-event="whatsapp_click"
        data-umami-props='{"campaign":"unknown"}'
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          aria-hidden="true"
        >
          <path d="M3 21l1.65-3.8a9 9 0 1 1 3.4 2.9L3 21"/>
          <path d="M9 10a.5.5 0 0 0 1 0V9a.5.5 0 0 0-1 0v1Zm0 0a5 5 0 0 0 5 5m0 0a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1h1Z"/>
        </svg>
        <span class="hidden sm:inline">Zap</span>
      </a>
      
      <!-- Mobile Menu Button -->
      <button 
        id="mobile-menu-button"
        class="md:hidden p-2 text-gray-700 hover:text-deep-black hover:bg-gray-100 rounded-lg transition-colors"
        aria-label="Menu"
        type="button"
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          width="24" 
          height="24" 
          viewBox="0 0 24 24" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          stroke-linecap="round" 
          stroke-linejoin="round"
        >
          <line x1="4" x2="20" y1="12" y2="12"/>
          <line x1="4" x2="20" y1="6" y2="6"/>
          <line x1="4" x2="20" y1="18" y2="18"/>
        </svg>
      </button>
    </div>
    
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden pb-4 pt-2 border-t border-gray-200 mt-2">
      {navLinks.map((link) => (
        <a 
          href={link.href}
          class="block px-4 py-2 text-sm font-medium text-gray-700 hover:text-deep-black hover:bg-gray-100 rounded-lg transition-colors mobile-menu-link"
        >
          {link.label}
        </a>
      ))}
    </div>
  </div>
</nav>

<script>
  // Minimal JS for mobile menu toggle (3 lines)
  const btn = document.getElementById('mobile-menu-button');
  const menu = document.getElementById('mobile-menu');
  btn?.addEventListener('click', () => menu?.classList.toggle('hidden'));
  
  // Close mobile menu when clicking a link
  document.querySelectorAll('.mobile-menu-link').forEach(link => {
    link.addEventListener('click', () => menu?.classList.add('hidden'));
  });
</script>

